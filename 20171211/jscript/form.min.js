(function($){var e=null;function clear(b){$('input,select,textarea',b).each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(t=='text'||t=='hidden'||t=='password'||tag=='textarea'){this.value=''}else if(t=='file'){var a=$(this);a.after(a.clone().val(''));a.remove()}else if(t=='checkbox'||t=='radio'){this.checked=false}else if(tag=='select'){this.selectedIndex=-1}})}function init(a){if($.fn.validatebox){var t=$(a);var b=t.find('[validtype]');b.focus(function(){$('.show_validate_message').remove();$(this).validatebox()})}}function validate(a){if($.fn.validatebox){var t=$(a);t.find('[validtype]').validatebox('validate');var b=t.find('[isvalid=false]');if(b!=null&&b.length>0){b.filter(':first').focus();e=b.filter(':first')}else{$('.show_validate_message').remove()};return b.length==0};return true}var f={init:function(d){return this.each(function(){var a=$(this);var b=a.data('sgForm');if(typeof(b)=='undefined'){var c={url:null,data:null,success:function(){}};b=$.extend({},c,d);a.data('sgFrom',b)}else{b=$.extend({},b,d)}init(a)})},destroy:function(b){return $(this).each(function(){var a=$(this);a.removeData('sgForm')})},val:function(a){var b=this.eq(0).html();return b},onSubmit:function(b){if(validate(this)){$.post(b.url,$(this).serialize(),function(a){(b.success)(a)},"json")}else{return false}},loadForm:function(b){$.post(b.url,b.data,function(a){(b.success)(a)},"json");init(this[0])},validate:function(){return validate(this[0])},clear:function(){return this.each(function(){clear(this)})}};$.fn.form=function(){var a=arguments[0];if(f[a]){a=f[a];arguments=Array.prototype.slice.call(arguments,1)}else if(typeof(a)=='object'||!a){a=f.init}else{$.error('Method '+a+' does not exist on jQuery.sgForm');return this};return a.apply(this,arguments)}})(jQuery);